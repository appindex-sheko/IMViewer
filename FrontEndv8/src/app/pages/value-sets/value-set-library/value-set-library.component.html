<app-library-component
  [relationships]="relationships"
  [concept]="concept"
  [children]="children"
  [parents]="parents"
  [selectedIri]="selectedIri"
  [perspective]="perspectives.valueSets"
>
  <!-- Dashboard container-->
  <mat-card-content class="full-page-card">
    <mat-drawer-container class="example-container" hasBackdrop="true" style="height: calc(100%);overflow:hidden;">

      <!-- SideBar -->
      <summary-drawer [concept]="selectedConcept"></summary-drawer>

      <!-- ValueSet Tree -->
      <div style="width: 100%; height: calc(100vh - 150px);" *ngIf="showTree">
        <mat-tree [dataSource]="treeController.dataSource" [treeControl]="treeController.treeControl" class="concept-tree">
          <!-- This is the tree node template for leaf nodes -->
          <mat-tree-node *matTreeNodeDef="let node" style="cursor: pointer">
            <li class="mat-tree-node">
              <button mat-icon-button disabled></button>
              <span class="select-highlight hover-highlight"
                    [class.selected]="treeController.highlightNode(node)"
                    (click)="treeController.selectNode(node)">
                {{node.name}}
              </span>
            </li>
          </mat-tree-node>
          <!-- This is the tree node template for expandable nodes -->
          <mat-nested-tree-node *matTreeNodeDef="let node; when: treeController.hasChild" style="cursor: pointer">
            <li>
              <div class="mat-tree-node">
                <button mat-icon-button matTreeNodeToggle>
                  <mat-icon class="mat-icon-rtl-mirror">
                    {{treeController.treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                  </mat-icon>
                </button>
                <span class="select-highlight hover-highlight"
                      [class.selected]="treeController.highlightNode(node)"
                      (click)="treeController.selectNode(node)" 
                      (dblclick)="treeController.expandNode(node)">
                  {{node.name}}
                </span>
              </div>
              <ul [class.concept-tree-invisible]="!treeController.isVisible(node)">
                <ng-container matTreeNodeOutlet></ng-container>
              </ul>
            </li>
          </mat-nested-tree-node>
        </mat-tree>
      </div>
    </mat-drawer-container>
  </mat-card-content>
</app-library-component>
